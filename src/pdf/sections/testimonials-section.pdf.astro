---
import type { TestimonialsSection } from '@/types/sections/testimonials-section.types';
import DashedDivider from '../components/dashed-divider.astro';
import Description from '../components/description.astro';
import ListItemHeading from '../components/list-item-heading.astro';
import SectionHeading from '../components/section-heading.astro';

export interface Props extends TestimonialsSection {}

const { config, testimonials = [] } = Astro.props;
---

<div>
  <SectionHeading>{config.title}</SectionHeading>
  <div class="mt-1 flex flex-col">
    {
      testimonials.map(({ author, relation, content, pdfDetails }) => {
        const linkedin = pdfDetails?.find((detail) => detail.label.toLowerCase() === 'linkedin');
        return (
          <>
            <div class="flex flex-col gap-1">
              <ListItemHeading title={author} subtitle={relation} iconLink={linkedin} />
              <Description content={content} />
            </div>
            <DashedDivider />
          </>
        );
      })
    }
  </div>
</div>
